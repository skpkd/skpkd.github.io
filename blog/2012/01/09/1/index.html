<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arduinome</title>
    <meta name="description" content="Большая инструкция по постройке Arduinome — клона Monome.">
    <meta name="keywords" content="ардуино, моном">
    <link rel="canonical" href="http://likewhoa.ru/blog/2012/01/09/1/">
    <link rel="alternate" type="application/rss+xml" title="Likewhoa" href="/feed.xml" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:700&amp;subset=cyrillic" rel="stylesheet">
    <!-- google search console -->
    <meta name="google-site-verification" content="FpxZXaSmPze2lNe7uty69AA9cZZT6meINY4n2VCDZCg" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/style.css?201802181528" type="text/css">

    <!-- Open Graph -->
    <meta property="og:locale" content="ru">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Arduinome">
    <meta property="og:description" content="Картинки и тексты.">
    <meta property="og:url" content="http://likewhoa.ru/blog/2012/01/09/1/">
    <meta property="og:site_name" content="Likewhoa">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Arduinome" />
    <meta name="twitter:description" content="Большая инструкция по постройке Arduinome — клона Monome." />
    <meta name="twitter:url" content="http://likewhoa.ru/blog/2012/01/09/1/" />
    
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>


    <!-- Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=YAo5ogjjko">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=YAo5ogjjko">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=YAo5ogjjko">
<link rel="manifest" href="/site.webmanifest?v=YAo5ogjjko">
<link rel="mask-icon" href="/safari-pinned-tab.svg?v=YAo5ogjjko" color="#5bbad5">
<link rel="shortcut icon" href="/favicon.ico?v=YAo5ogjjko">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#ffffff">
</head>

<body class="site animated fade-in-down">
<aside>
<h1>Arduinome</h1>
<span class="icon">&nbsp;</span>


<p class="subtitle">После сборки моего Arduinome оказалось, что на&nbsp;русском языке информации практические нет, но, к&nbsp;счастью, я&nbsp;сохранил большую часть и&nbsp;местами дополнил. Точное следование инструкциям позволит легко собрать ардуином и&nbsp;запустить его с&nbsp;первого раза.</p>
</aside>
<img src="/images/blog/arduino/feature.jpg" alt="Arduinome">
<aside>
<p>Рассмотрим подробнее, из&nbsp;чего состоит любое моном-подобное устройство. И&nbsp;Monome, и&nbsp;Arduinome состоят из&nbsp;двух частей:</p>

<p><strong>Logic Kit</strong> — часть отвечающая за обработку данных и&nbsp;связь с&nbsp;компьютером.</p>
<p><strong>Keypad Kit</strong> — часть отвечающая за контакт с&nbsp;пользователем, то&nbsp;есть набор силиконовых кнопок, светодиодов и платы под них.</p>

    <div class="fotorama" data-captions="false" data-loop="true" data-width="100%"">
        <img src="/images/blog/arduino/arduino-unsped-shield.jpg" data-caption="Logic Kit на базе Arduino и Unsped Shield">
        <img src="/images/blog/arduino/logic-kit-monome.jpg" data-caption="Оригинальный Logic Kit от Monome.org">
        <img src="/images/blog/arduino/logic-kit-starfire.jpg" data-caption="Logic Kit на базе Starfire PCB">
        <img src="/images/blog/arduino/sparkfun-keypad-kit.jpg" data-caption="Keypad Kit на базе Button Pad 8*8 PCB и кнопок со Sparkfun.com">
        <img src="/images/blog/arduino/monome-keypad-kit.jpg" data-caption="Оригинальный Keypad Kit от Monome.org">
    </div>
    <figcaption class="fotorama-caption"></figcaption>





<p><a href="http://likewhoa.ru/blog/arduinome-parts/">Обновленный список деталей</a> для сборки на базе Starfire PCB и список деталей для тех, кто собирает моном на базе Arduino + Unsped Shield. Указанные в списке магазины — всего лишь моя рекомендация, вы же можете купить все детали где хотите. Резисторы и конденсаторы проще заказать вместе с кнопками, чем искать их в чип-и-дипе например. И кстати DIP-панели под микросхемы использовать не обязательно, просто в случае чего микросхему проще будет заменить без выпайки.</p>


<h2>Особенности распайки плат Arduinome</h2>

<p>Плата Button Pad 8х8 PCB, порядок соединения:</p>

<p>Лицевая сторона, со светодиодами. Если держать плату лицевой стороной к себе так, что разъемы будут справа и сверху, то анод (длинная ножка) светодиодов должны быть слева, а катод справа:</p>

<div class="side">
      <span>Плата Button Pad 8х8 PCB</span>
    </div>
<img src="/images/blog/arduino/button-pad-shield.jpg" alt="Плата Button Pad 8х8 PCB">

<p>Обратная сторона, с диодами. Если держать плату тыльной стороной к себе так, что разъемы будут справа и сверху, то диод должен располагаться, на своей площадке, черной полоской (катод) справа:</p>

<div class="side">
      <span>Плата Button Pad 8х8 PCB</span>
    </div>
<img src="/images/blog/arduino/button-pad-shield-back.jpg" alt="Плата Button Pad 8х8 PCB">



<p><strong>Unsped Shield:</strong> правильность распайки, подготовка резисторной сборки.</p>

<p>Обрежьте 10-ую ножку резисторной сборки — необходимы только первые 9. Помните, резисторная сборка не является симметричной, не обрезайте 1-ую ножку, которая обозначена точкой.</p>


<img src="/images/blog/arduino/unsped-shield.jpg" alt="Unsped Shield" style="width: auto;">


<p>На следующем рисунке показана маркировка с оригинального Arduinome Logic Board. Так же можете посмотреть, где и какой элемент должен быть. Будьте внимательны с полярностью, где это требуется, и правильной ориентацией элементов на плате, согласно меток и ключей на их корпусе.</p>

<img src="/images/blog/arduino/arduinome-logic-board.jpg" alt="Arduinome Logic Board" style="width: auto;">


<h2>Выбор номинала резистора Rset</h2>

<p>Темы на форуме Arduino, касающиеся MAX72XX, часто свидетельствуют о том, что есть некоторая неопределенность, когда речь заходит о выборе значения для резистора RSet. Он является единственным компонентом, который ограничивает ток для всех отдельных светодиодов. В то время как некоторые думают, что могут подбирать значение этого резистора в качестве способа управления яркостью светодиодов, его реальная цель заключается в том, чтобы защитить MAX72XX и светодиоды от недопустимых токов. Настройка яркости дисплея может и должно быть сделано программным обеспечением.</p>

<p>Чтобы узнать правильные значения для RSet вам нужна информация по MAX72XX и светодиодам, которая есть в документации к этим компонентам.</p>
<p>Из спецификации светодиодов Вам понадобятся только два значения:</p>

<p><strong>DC Forward current</strong> (mA) — максимальный ток, разрешенный для работы светодиода без повреждения его в долгосрочной перспективе.</p>
<p><strong>Forward voltage</strong> (V) — максимальное напряжение, при котором светодиод работает.</p>

<p>Максимальное напряжение имеет определённое значение, которое зависит (главным образом) от цвета светодиода. Вам следует ограничить электрический ток приходящий на светодиоды через резистор RSet. Так как DC Forward current представляет собой максимальную величину, которая не может быть превышена, согласитесь на немного более низкий электрический ток. Стандартные светодиоды и 7-сегментные дисплеи чаще всего имеют значение 25-30 mA. Ограничение до 20 mA будет хорошим выбором.</p>

<p>С этими двумя значениями из спецификации светодиодов мы можем теперь найти получающееся значение для резистора RSet в таблице ниже, которая скопирована из спецификации MAX72XX:</p>

    <table class="table">
    <thead>
      <th class="table__heading">ISeg</th>
      <th class="table__heading">1.5V</th>
      <th class="table__heading">2V</th>
      <th class="table__heading">2.5V</th>
      <th class="table__heading">3.0V</th>
      <th class="table__heading">3.5V</th>
    </thead>
    <tr class="table__row">
      <td class="table__content" data-heading="ISeg">40 mA</td>
      <td class="table__content" data-heading="1.5V">12.2 kΩ</td>
      <td class="table__content" data-heading="2V">11.8 kΩ</td>
      <td class="table__content" data-heading="2.5V">11.0 kΩ</td>
      <td class="table__content" data-heading="3.0V">10.6 kΩ</td>
      <td class="table__content" data-heading="3.5V">9.69 kΩ</td>
    </tr>
    <tr class="table__row">
      <td class="table__content" data-heading="ISeg">30 mA</td>
      <td class="table__content" data-heading="1.5V">17.8 kΩ</td>
      <td class="table__content" data-heading="2V">17.1 kΩ</td>
      <td class="table__content" data-heading="2.5V">15.8 kΩ</td>
      <td class="table__content" data-heading="3.0V">15.0 kΩ</td>
      <td class="table__content" data-heading="3.5V">14.0 kΩ</td>
    </tr>
    <tr class="table__row">
      <td class="table__content" data-heading="ISeg">20 mA</td>
      <td class="table__content" data-heading="1.5V">29.8 kΩ</td>
      <td class="table__content" data-heading="2V">28.0 kΩ</td>
      <td class="table__content" data-heading="2.5V">25.9 kΩ</td>
      <td class="table__content" data-heading="3.0V">24.5 kΩ</td>
      <td class="table__content" data-heading="3.5V">22.6 kΩ</td>
    </tr>
    <tr class="table__row">
      <td class="table__content" data-heading="ISeg">10 mA</td>
      <td class="table__content" data-heading="1.5V">66.7 kΩ</td>
      <td class="table__content" data-heading="2V">63.7 kΩ</td>
      <td class="table__content" data-heading="2.5V">59.3 kΩ</td>
      <td class="table__content" data-heading="3.0V">55.4 kΩ</td>
      <td class="table__content" data-heading="3.5V">51.2 kΩ</td>
    </tr>
    </table>

<p>Вот один пример: у меня есть 5×7 точек «ярко красная» LED матрица. В спецификации заявлено максимальное напряжение 2.0 V, максимальный ток ограничивается 25 mA. Я соглашусь на 20 mA, чтобы остаться немного дальше от абсолютных пределов.</p>

<p>Из приведенной выше таблицы видно, что правильное значение для RSet было бы 28.0 kΩ. Но вы можете иметь проблемы с тем, что бы найти точное значение в магазинах, запомните, всегда безопасно взять более высокие значения. Более вероятными значениями будут 30 kΩ или 33 kΩ. Светодиоды будут выглядеть немного более тусклыми с этими значениями, но, поскольку это затрагивает все светодиоды в матрице, вы, вероятно, даже не заметите разницы. Это также уменьшает электрический ток питания, который необходим, и это может быть хорошей новостью, если ваш проект работает на батарейках.</p>
<p>Использование светодиодов различных цветов (смешивание) в одной матрице очень не рекомендуется с MAX72XX. Существует только один резистор RSet, который ограничивает ток для всех светодиодов. После того как вы посмотрели все резисторы, требуемые для каждого цвета, вам придется остановиться на самом большом значении. Яркость светодиодов с разными цветами, не очень совпадает, таким образом это будет метод проб и ошибок, что бы подобрать правильные светодиоды.</p>

<h2>Устанавливаем прошивку Arduinome</h2>

<p>Убедитесь, что у вас установлены драйвера для Arduino. Для начала работы на потребуется следующий софт: Последняя версия Arduino Software (на данный момент последняя версия 16), последняя версия прошивки Arduinome, программа ArduinomeSerial для вашей ОС (скачивается там же где и прошивка), программа MProg для прошивки чипа USB (только под Windows).</p>

<p>Итак, начнем. Сначала прошьем чип USB:</p>

<ol>
<li>Подключите Arduino к вашему компьютеру.</li>
<li>Запустите программу MProg.</li>
<li> Далее меню Tools ⟶ Read and Parse.</li>
<li>На панели «USB Serial Number Control», поставьте галочку «Use Fixed Serial Number» и напечатайте в окошке Number что-нибудь вроде «a40h-001» или любую вариацию «a40h-xxx». a40h — самая важная чаcть, а трехзначный номер поставьте какой угодно.</li>
<li>Далее меню File ⟶ Save As… и сохраните файл куда угодно с любым названием.</li>
<li>Далее меню Device Menu ⟶ Program.</li>
<li>Вы должны увидеть сообщение такого вида «programmed device with…». Это значит все прошло удачно.</li>
<li>Отсоедините и снова присоедините Arduino.</li>
</ol>
<p>Теперь установим непосредственно прошивку Arduinome:</p>
<ol>
<li>Распакуйте скачанную оболочку Arduino и прошивку ArduinomeFirmware в отдельные папки.</li>
<li>Запустите оболочку Arduino.</li>
<li>В меню настроек выберите тип Arduino (т. е. Duemilanove) и COM-порт, к которому подключен Arduino.</li>
<li>Откройте через меню файл прошивки ArduinomeFirmware *.pde.</li>
<li>Далее меню File ⟶ Upload to I/O Board.</li>
<li>Если все пройдет удачно, то в черном окошке внизу не будет ошибок.</li>
</ol>
<p>Далее запустите ArduinomeSerial. Если в поле Device стоит то, что вы вводили в MProg, значит все сделано правильно.</p></aside>
<div class="navline">
<article class="flex-menu ">

  <div class="bread">
  <ol class="bread-list">
    <li class="home"><a href="/">Главная</a></li>
    <li>Arduinome</li>
  </ol>
</div>

<div><form class="search-container" action="https://www.google.com/search" method="GET">
  <input id="search-box" type="text" class="search-box" name="q" />
  <label for="search-box"><span class="search-icon"><svg xmlns="https://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path stroke="none" fill-rule="inherit" clip-rule="evenodd" d="M16 14.5l-4.399-4.399a6.212 6.212 0 0 0 1.148-3.602 6.25 6.25 0 1 0-12.5 0 6.25 6.25 0 0 0 6.251 6.25 6.212 6.212 0 0 0 3.602-1.148L14.5 16l1.5-1.5zM1.25 6.501a5.251 5.251 0 1 1 10.502 0 5.251 5.251 0 0 1-10.502 0z"></path></svg></span></label>
  <!-- <input type="submit" id="search-submit" /> -->
  <input type="hidden" name="sitesearch" value="likewhoa.ru">
</form></div>

<div class="modal">
  <a class="button" href="#0">Подписаться</a>
</div>

</article>
</div>

<!-- modal subscribe -->

  <div class="cd-modal"> <!-- this is the entire modal form, including the background -->
    <div class="cd-modal-container"> <!-- this is the container wrapper -->
          <h3>Подписка на блог</h3>Через <a href="http://likewhoa.ru/feed.xml">RSS</a> и <a href="t.me/likewhoa">телеграм</a>
          <!-- <a href="#0" class="close-modal">Close</a> -->
    </div> <!-- cd-user-modal-container -->
  </div> <!-- cd-user-modal -->
  <script src="/static/index.js"></script>
  <script src="/static/zoom.js"></script>
  <script src="/static/jquery.fitvids.js"></script>
  <script src="/static/fotorama.js"></script>

<!-- google counter -->
  <script type="text/javascript">
  
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26451647-3']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  
  </script>
<!-- end google counter -->
<!-- Yandex.Metrika counter --> <script type="text/javascript" > (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter11453989 = new Ya.Metrika2({ id:11453989, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, trackHash:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/tag.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks2"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/11453989" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->
</body>
</html>